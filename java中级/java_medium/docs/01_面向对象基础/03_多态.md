# 多态
### 多态的具体体现
1. 方法的多态，重写和重载就是方法的多态
2. 对象的多态(核心，困难，重点)
  (1)一个对象的编译类型和运行类型可以不一致，如Animal animal=new Dog()
  (2)编译类型在定义对象时，就确定了，不能改变
  (3)运行类型是可以变化的
  (4)编译类型看定义时=号的左边，运行类型看=号的右边.
3. (1)一个对象的编译类型和运行类型可以不一致，如Animal animal=new Dog()
   (2)编译类型在定义对象时，就确定了，不能改变
   (3)运行类型是可以变化的
   (4)编译类型看定义时=号的左边，运行类型看=号的右边。

### 重写
方法覆盖(重写方法)：就是子类的有一个方法和父类的某个方法的名称，参数一样，那么我们就说这个子类的方法覆盖了父类的方法
重写父类的方法时，如果有返回类型，必须要满足父类返回类型是子类的返回类型的父类，比如父类返回Object,子类返回String
子类的方法不能缩小父类方法的访问权限。public>protected>默认>private

### 多态的细节和注意事项(核心，困难，多态)
多态的前提：两个类(对象)之间继承关系
多态向上转型
1. 本质：父类的引用指向了子类的对象也即是向上转型
2. 多态向上转型
语法：父类类型 引用名=new 子类类型(),如下
   Animal animal=new Cat("小猫");同理如下
   Object animal1=new Cat("小猫的Object类");父类的父类也可以做多态
   `此时：当子类和父类有相同的属性的时候会先访问父类中的变量`

3. 特点：编译类型看左边，运行类型看右边。可以调用父类中的所有成员(遵循访问权限), 
因此语法中不能调用子类中特有的成员，具体实现要看子类的实现，因为在编译阶段，能调用那些成员是由编译类型来确定的
即：多态不能访问父类具有权限控制的方法或者属性，并且不能访问子类中特有的方法。
4. 多态的向下转型
   1. 语法：子类类型 引用名=(子类类型) 父类引用
   2. 只能强转父类的引用，不能强转父类的对象
   3. 要求父类的引用必须指向的是当前目标类型的对象
   4. 当向下转型后，可以调用子类类型中的所有成员
   5. 如：Cat cat=(Cat) animal;
   向下转型，并且要求父类的引用必须指向的是当前目标类型的对象，即animal的运行类型要是Cat类才能转。
   `当子类和父类有相同的属性的时候会先访问子类中的变量`

5. 访问属性是看编译类型，访问方法看运行类型,一般用于子类和父类有同样的方法的情况下，
如果有相同的方法只会依照就近原则查找类方法。
### 多态数组
多态数组：数组的定义为父类类型，里面保存的实际元素为子类类型

```java
import 面向对象基础.poly.polyArray.Person;

public class polyArray {
    public static void main(String[] args) {
//        Person是所有类的父类，其中Teacher类和Student类有自己的方法，所以当要使用子类中特定的方法时，必须先判断类型再向下转型
        Person[] persons = new Person[5];
        persons[0] = new Person("jack", 23);
        persons[1] = new Person("abily", 34);
        persons[2] = new Student("张三", 12, 67);
        persons[3] = new Student("李四", 11, 78);
        persons[4] = new Student("老张", 34, 20000);
//        循环调用数组元素的say方法
        for (int i = 0; i < persons.length; i++) {
            System.out.println(persons[i].say());
//            判断元素的运行类型是不是Student，再向下转型使用子类中的方法
            if (persons[i] instanceof Student) {
                Student stu1 = (Student) persons[i];
                stu1.study();
            }
            if (persons[i] instanceof Teacher) {
                Teacher t1 = (Teacher) persons[i];
                t1.teach();
            }
        }
    }
}
```

### 多态参数
方法定义的参数类型为父类类型，实参类型允许为子类类型

### 动态绑定机制
java动态绑定机制：
1.当调用对象方法的时候，该方法会和该对象的内存地址/运行类型绑定。也就是调用B的父类的方法时，
该方法中还调用了与B中相同名称的方法，此时会调用B中同名的方法。
2.当调用对象的属性时，没有动态绑定机制，哪里声明，哪里使用。

