# 代码块
代码块又称初始化块，属于类中的成员【即是类中的一部分】类似于方法，将代码逻辑封装方法体当中，通过{}包围起来。
但是和方法不同，没有方法名，没有返回，没有参数，只有方法体，而且不用通过对象或类显示调用，而是通过加载类时，或创建对象时隐式调用。
基本语法：
[修饰符]{
 代码
}
注意：
1. 修饰符可选，要写的话，也只能写static
2. 代码块分为两类，使用static修饰的叫做静态代码块，没有static修饰的叫做普通代码块
3. 逻辑代码块可以为任意逻辑语句(输入，输出，方法调用，循环，判断等)
4. ;可以写上也可以省略

如下：
我们将构造器中的公共代码抽离出来，封装成代码块，并且将代码块放在{}里。这样可以让所有的构造器在执行前都会先执行代码块。
相当于另外一种形式的构造器，可以执行初始化操作。

```java
class Moive{
    private  String name;
    private  double price;
    private  String director;
//    构造器的重载
//    如下我们将三个构造器相同的代码提出来作为一个公共的代码块
//    好处就是不管那个构造器，都会先执行代码块的内容

    {
        System.out.println("开始放电影了");
//        我们给this.name赋值的时候会发现为null，这是因为代码块中的内容会在构造器执行之前执行，所以不会给this.name赋值成功
        System.out.println("this.name="+this.name);
    }
    public  Moive(String name){
        this.name=name;

    }
    public  Moive(String name,double price){
        this.price=price;
        this.name=name;
        System.out.println("this.price="+this.price);
    }
    public  Moive(String name,double price,String director){
        this.name=name;
        this.price=price;
        this.director=director;
        System.out.println("this.director"+this.director);
    }
}
```

### 代码块的注意事项
1. static代码块也叫静态代码块，作用就是对类进行初始化，而且它随着类的加载而执行，并且只会执行一次。
2. 如果是普通代码块只在创建对象的时候执行，每创建一个对象就执行一次
3. 类在什么加载：
   1. 创建对象实例的时候(new)
   2. 创建子类对象的时候，父类也会被加载
   3. 使用类的静态成员(静态方法或者静态属性)
4. 使用类的静态成员的时候，普通代码并不会被执行。

> 创建一个对象的时候，在一个类中的调用顺序是：
> 1. 调用静态代码和静态属性初始化(注意：静态代码块和静态属性初始化调用的优先级一样，如果有多个静态代码块和多个静态变量初始化，
> 则按他们的定义的是顺序执行)
> 2. 调用普通代码块和普通属性的初始化(注意：普通代码块和普通属性初始化调用的优先级一样，有多个普通属性和多个代码块的时候，则按定义的顺序调用)
> 3. 构造器的优先级最低，会在静态成员/静态代码块执行和普通成员/普通代码块执行完之后才调用


### 当子类执行的时候父子类他们的静态代码块，静态属性和普通代码块/普通属性，构造器的执行顺序
1. 父类的静态方法和静态属性按序执行
2. 子类的静态方法和静态属性按序执行
3. 父类的普通代码块和普通属性按序执行
4. 父类的构造方法
5. 子类的普通代码块和普通属性初始化按序执行
6. 子类的构造方法

>注意：静态代码块里面只能直接调用静态成员(静态属性和静态方法)，普通代码块可以调用任意成员
> 代码块的本质就是构造器的一种机制